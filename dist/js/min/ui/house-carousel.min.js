const createHouseCardHTML=e=>{const t={popular:"icon-popular","new house":"icon-house","best deals":"icon-wallet"}[e.label.toLowerCase()]||"icon-house",s={popular:"Popular",new:"New house",deal:"Best deals"}[e.label.toLowerCase()]||"New House",o=e.label.toLowerCase().replace(" ","-");return`\n    <div class="house-card" data-type="${e.type}">\n      <div class="house-card__image">\n        <img alt="${e.name}" src="${e.image}" />\n        <div class="label label--${o}">\n          <svg><use href="assets/icons/icons.svg#${t}"></use></svg>\n          ${s}\n        </div>\n      </div>\n      <div class="house-card__legend">\n        <h3 class="house-card__name">${e.name}</h3>\n        <p class="house-card__price">$${e.price.toLocaleString("es-AR")}</p>\n      </div>\n      <div class="house-card__user">\n        <div class="house-card__user-icon">\n          <img alt="${e.user}" src="${e.avatar}" />\n        </div>\n        <div class="house-card__user-text">\n          <p class="house-card__username">${e.user}</p>\n          <p class="house-card__location">${e.location}</p>\n        </div>\n      </div>\n    </div>\n  `};export default function initHouseCarousel(){const e=document.getElementById("houseCarousel"),t=document.querySelectorAll(".featured-house__nav__filters button"),s=document.querySelector(".featured-house__carousel-wrapper"),[o,n]=document.querySelectorAll(".featured-house__nav__pagination .btn-round");let a=[],r=!1,l=0,c=0,d="";const i=()=>{const e=s.scrollWidth-s.clientWidth,t=s.scrollLeft>1,a=s.scrollLeft<e-1;o.disabled=!t,o.classList.toggle("btn--green",t),o.classList.toggle("btn--transparent",!t),n.disabled=!a,n.classList.toggle("btn--green",a),n.classList.toggle("btn--transparent",!a)},u=t=>{e.innerHTML=t.map(createHouseCardHTML).join(""),requestAnimationFrame(i)};(async()=>{try{const g=await fetch("data/featured.json");if(!g.ok)throw new Error("Failed to load house data.");a=await g.json(),u(a),t.forEach(e=>{e.addEventListener("click",()=>{const s=e.textContent.trim().toLowerCase();d=d===s?"":s,t.forEach(e=>{const t=e.textContent.trim().toLowerCase()===d;e.classList.toggle("btn--light-green",t),e.classList.toggle("btn--light-green--borderless",t),e.classList.toggle("btn--transparent",!t)});const o=d?a.filter(e=>e.type===d):a;u(o)})}),(()=>{const t=()=>{const t=e.querySelector(".house-card");if(!t)return s.clientWidth;const o=parseFloat(getComputedStyle(e).gap)||0;return t.offsetWidth+o},a=e=>s.scrollBy({left:e*t(),behavior:"smooth"});o.addEventListener("click",()=>a(-1)),n.addEventListener("click",()=>a(1)),s.addEventListener("mousedown",e=>{r=!0,s.classList.add("dragging"),l=e.pageX-s.offsetLeft,c=s.scrollLeft,document.body.style.userSelect="none"});const d=()=>{r=!1,s.classList.remove("dragging"),document.body.style.userSelect=""};s.addEventListener("mouseup",d),s.addEventListener("mouseleave",d),s.addEventListener("mousemove",e=>{if(!r)return;e.preventDefault();const t=1.5*(e.pageX-s.offsetLeft-l);s.scrollLeft=c-t}),s.addEventListener("scroll",i),window.addEventListener("resize",i)})()}catch(t){console.error(t),e.innerHTML='<p class="error">Could not load featured houses.</p>'}})()}
//# sourceMappingURL=house-carousel.min.js.map
